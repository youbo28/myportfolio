<section id="contact" class="px-6 md:px-0 py-28 transition-colors duration-300">
  <ng-container *transloco="let t">
    <div
      class="max-w-7xl mx-auto rounded-3xl shadow-xl px-6 md:px-12 py-12 backdrop-blur-lg bg-white/60 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700">

      <h2 class="text-3xl md:text-4xl font-bold text-center mb-12 text-gray-900 dark:text-white">
        <i class="fas fa-envelope text-indigo-600 dark:text-indigo-400 text-4xl"></i>
        {{ t('contact.title') }}
      </h2>

      <form name="contact"
            method="POST"
            data-netlify="true"
            netlify-honeypot="bot-field"
            target="hidden_iframe"
            (ngSubmit)="handleSubmit()"
            class="max-w-xl mx-auto space-y-6">
        
        <!-- Hidden form name -->
        <input type="hidden" name="form-name" value="contact" />

        <!-- Honeypot for spam -->
        <div class="hidden">
          <label>Donâ€™t fill this out: <input name="bot-field" /></label>
        </div>

        <!-- Name -->
        <div>
          <label for="name" class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">
            {{ t('contact.name') }}
          </label>
          <input type="text" id="name" name="name" required
                 class="w-full px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800 dark:text-white" />
        </div>

        <!-- Email -->
        <div>
          <label for="email" class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">
            {{ t('contact.email') }}
          </label>
          <input type="email" id="email" name="email" required
                 class="w-full px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800 dark:text-white" />
        </div>

        <!-- Message -->
        <div>
          <label for="message" class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">
            {{ t('contact.message') }}
          </label>
          <textarea id="message" name="message" rows="5" required
                    class="w-full px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800 dark:text-white resize-none"></textarea>
        </div>

        <!-- Submit Button -->
        <div class="text-center">
          <button type="submit"
                  class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-6 py-3 rounded-md shadow-md transition">
            {{ t('contact.send') }}
          </button>
        </div>

        <!-- Success and Error Messages -->
        <p *ngIf="success" class="mt-4 text-center text-green-600 dark:text-green-400 font-semibold animate-fade-in">
          {{ t('contact.successMessage') }}
        </p>
        <p *ngIf="error" class="mt-4 text-center text-red-600 dark:text-red-400 font-semibold animate-fade-in">
          {{ t('contact.errorMessage') }}
        </p>
      </form>

      <!-- Hidden iframe -->
      <iframe name="hidden_iframe" style="display:none;" (load)="handleIframeLoad()"></iframe>
    </div>
  </ng-container>
</section>
